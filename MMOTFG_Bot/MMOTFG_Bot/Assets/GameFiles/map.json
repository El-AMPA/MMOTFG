[
  {
    "Name": "Entrada",
    "NodeConnections": {
      "norte": {
        "ConnectingNode": "PasilloCentral1"
      },
      "test": {
        "ConnectingNode": "PasilloCentral5"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName": "EvilCastleEntrance.jpg",
        "Description":"Has vuelto a la entrada del castillo. Aun tienes personal al que mamporrear. ¡No hay tiempo que perder!",
        "TriggerCondition": "EntradaVisited"
      },
      {
        "EventType":"eSendImage",
        "ImageName": "EvilCastleEntrance.jpg",
        "Description": "Ante ti se rige castillo del Malo Maloso. ¿Qué ha hecho? No tienes ni idea, pero con ese nombre seguro que nada bueno.",
        "TriggerCondition" : "!EntradaVisited"
      },
      {
        "EventType":"eSendAudio",
        "AudioName": "Thunder.mp3",
        "Description": "¡Una aventura te espera. Tortas, golpetazos... Bienvenido a... Mazmorra Mamporrazo!",
        "TriggerCondition": "!EntradaVisited"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType":"eSendText",
        "Description":"Buscas debajo de la alfombra de la puerta y encuentras una poción.",
        "TriggerCondition":"!EntradaInspect1"
      },
      {
        "EventType":"eGiveItem",
        "ItemLots":[
          {
            "Item":"pocion_vida"
          }
        ],
        "TriggerCondition":"!EntradaInspect1"
      },
      {
        "EventType":"eSetFlag",
        "Name":"EntradaInspect1",
        "SetAs":"True",
        "TriggerCondition":"!EntradaInspect1"
      }
    ]
  },
  {
    "Name": "PasilloCentral1",
    "NodeConnections":{
      "sur" : {
        "ConnectingNode" : "Entrada"
      },
      "puerta" : {
        "ConnectingNode" : "SalaTesoro1"
      },
      "norte" : {
        "ConnectingNode" : "PasilloCentral2"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName":"Entrada1.png",
        "Description":"Con pies de plomo entras en la mazmorra. Notas todo bastante limpio y ordenado. Unos altavoces emiten una musiquita muy pegadiza. Distraido por el ambiente, resbalas una región húmeda del suelo y te caes de culo. Al reincorporarte, ÉL aparece.",
        "TriggerCondition":"!ConserjeManoloKilled"
      },
      {
        "EventType":"eStartBattle",
        "Enemy":"ConserjeManolo",
        "TriggerCondition":"!ConserjeManoloKilled"
      },
      {
        "EventType":"eSendImage",
        "ImageName":"Entrada2.png",
        "Description":"Sin Manolo notas que el polvo se empieza a acumular...",
        "TriggerCondition":"ConserjeManoloKilled"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType":"eSendAudio",
        "AudioName":"Mamporrazo.mp3",
        "Description":"Prestas atención a la música... ¡El malo maloso tiene muy buen gusto musical! Seguro que motivaba un montón a Manolo."
      }
    ]
  },
  {
    "Name":"SalaTesoro1",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "PasilloCentral1"
      }
    },
    "OnArriveEvent":[
      {
        "EventType": "eSendImage",
        "Description":"Al abrir la puerta observas la habitación en la que te encuentras. Hay un monton de cajas y barriles repartidos por la habitación. Igual hay algo interesante por aquí.",
        "ImageName":"SalaTesoro1.png",
        "TriggerCondition": "!GorroFound"
      },
      {
        "EventType":"eSendImage",
        "ImageName": "SalaTesoro1.png",
        "Description":"Has vuelto a la sala donde encontraste el gorro. La percha de donde lo agarrse debe echarle de menos...",
        "TriggerCondition":"GorroFound"
      }
    ],
    "OnInspectEvent": [
      {
        "EventType": "eSendText",
        "Description":"Entre los objetos de la sala, un gorro colgado en la pared capta tu atención.",
        "TriggerCondition":"!GorroFound"
      },
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"gorro_del_heroe"
          }
        ],
        "TriggerCondition": "!GorroFound"
      },
      {
        "EventType":"eSendText",
        "Description":"No hay nada más que llame tu atención",
        "TriggerCondition":"GorroFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "GorroFound",
        "SetAs": "True",
        "TriggerCondition":"!GorroFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral2",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral3"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral1"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description":"Vaya... Esta sala no está tan bien cuidada. Múltiples agujeros aparentemente dispuestos de una manera aleatoria perforan las paredes... La sala parece un Gruyer.",
        "TriggerCondition":"!PasilloCentral2Visited"
      },
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description":"He vuelto a esta sala. Podría entrenarme aquí peleando contra las ratas...",
        "TriggerCondition": "PasilloCentral2Visited and SmallCheeseKilled"
      },
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description": "He vuelto a esta sala. Me pregunto que habrá dentro de los agujeros...",
        "TriggerCondition":"PasilloCentral2Visited and !SmallCheeseKilled"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType": "eSendText",
        "Description": "¡De uno de los agujeros que adornan la sala aparece una rata y se abalanza sobre ti!"
      },
      {
        "EventType":"eStartBattle",
        "Enemy":"SmallCheese"
      }
    ]
  },
  {
    "Name": "PasilloCentral3",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral4"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral2"
      },
      "este":{
        "ConnectingNode" : "PasilloCentral3-E"
      },
      "oeste":{
        "ConnectingNode" : "PasilloCentral3-W"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName":"CheeseThrone1.png",
        "Description":"Un trono se alza en medio de la siguiente sala. Una enorme rata adornada por ornamentos dorados fija su mirada en tí. Una cohorte de ratas más pequeñas le acompañan. Ay mecachis.",
        "TriggerCondition":"!BigCheeseKilled"
      },
      {
        "EventType":"eSendText",
        "Description":"''¡Nunca llegarás al Malo Maloso, te detendré!'' Exclama la rata mientras se abalanza sobre tí.",
        "TriggerCondition":"!BigCheeseKilled"
      },
      {
        "EventType":"eStartBattle",
        "Enemies":["BigCheese", "SmallCheese", "SmallCheese"],
        "TriggerCondition": "!BigCheeseKilled"
      },
      {
        "EventType":"eSendImage",
        "ImageName": "CheeseThrone2.png",
        "Description":"Has vuelto a la sala donde hiciste frente a Big Cheese. Su muerte dejó un gran hueco en el trono...",
        "TriggerCondition":"BigCheeseKilled"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType":"eSendText",
        "Description":"Hay múltiples direcciones por las que puedo avanzar desde esta sala. Si avanzo hacia el norte debería encontrar al Malo Maloso, pero igual necesito explorar más y hacerme más fuerte para hacerle frente."
      }
    ]
  },
  {
    "Name": "PasilloCentral3-W",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "SalaTesoro2"
      },
      "este" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendText",
        "Description":"Menudo cablerío hay montado por el suelo. Yo que pensaba que esto era una aventura de fantasía medieval. Menudo cacao mental tienen los desarrolladores...",
        "TriggerCondition":"!TecnicoTomásKilled"
      },
      {
        "EventType":"eSendImage",
        "ImageName": "Pasillo2_W_1.png",
        "Description":"Así que a esto se dedicaba el Malo Maloso... ¡Mina criptomonedas! Con la cantidad de gente en el mundo sin luz y el bobo este calentando el mundo. Un crimen de tal calibre no debe permanecer impune.",
        "TriggerCondition": "!TecnicoTomásKilled"
      },
      {
        "EventType": "eStartBattle",
        "Enemy": "TecnicoTomás",
        "TriggerCondition": "!TecnicoTomásKilled"
      },
      {
        "EventType": "eSendImage",
        "Description" : "Otra vez aquí... A ver si consigo salir de esta sala y no enredarme con los cables.",
        "ImageName": "Pasillo2_W_2.png",
        "TriggerCondition": "TecnicoTomásKilled"
      }
    ]
  },
  {
    "Name": "SalaTesoro2",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "PasilloCentral3-W"
      }
    },
    "OnArriveEvent": [
      {
        "EventType":"eSendImage",
        "ImageName": "SalaTesoro2.png",
        "Description": "La madre que me... Esta debe ser la habitación del técnico de antes. Rebuscaré por aquí para ver que encuentro y me largaré lo antes posible.",
        "TriggerCondition": "!CalcetinesFound"
      },
      {
        "EventType": "eSendImage",
        "ImageName": "SalaTesoro2.png",
        "Description": "...",
        "TriggerCondition": "CalcetinesFound"
      }
    ],
    "OnInspectEvent": [
      {
        "EventType": "eSendText",
        "Description": "No me creo que esté haciendo esto...",
        "TriggerCondition": "!CalcetinesFound"
      },
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"calcetines_del_heroe"
          }
        ],
        "TriggerCondition": "!CalcetinesFound"
      },
      {
        "EventType": "eSendText",
        "Description": "...",
        "TriggerCondition": "CalcetinesFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "CalcetinesFound",
        "SetAs": "True",
        "TriggerCondition":"!CalcetinesFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral3-E",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "SalaTesoro3"
      },
      "oeste" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    },
    "OnArriveEvent":[
      {
        "EventType": "eSendImage",
        "Description": "Parece que has llegado a la cocina ¡Que bien huele! Olisqueas un arroz que está al fuego y recibes un sartenazo en toda la cabeza ¡Ouch!",
        "ImageName": "Restaurante.jpg",
        "TriggerCondition": "!MoscaMiguelKilled"
      },
      {
        "EventType":"eStartBattle",
        "Enemy": "CocineroCarlos",
        "TriggerCondition": "!MoscaMiguelKilled"
      },
      {
        "EventType":"eSendImage",
        "Description": "Me gustaría haber probado el arroz del... Bueno, de los chefs.",
        "ImageName":"Restaurante2.png",
        "TriggerCondition": "MoscaMiguelKilled"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType":"eSendText",
        "Description": "La mosca controlaba a la rata que controlaba al humano... ¿Quién controla a la mosca? Para pensar..."
      }
    ]
  },
  {
    "Name": "SalaTesoro3",
    "NodeConnections":{
      "trampilla" : {
        "ConnectingNode" : "PasilloCentral4"
      },
      "sur" : {
        "ConnectingNode": "PasilloCentral3-E"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName": "Nevera.jpg",
        "Description": "Brrrr... Menudo frio que hace aquí. Pillaré lo primero que vea y me iré.",
        "TriggerCondition":"!GuantesFound"
      },
      {
        "EventType":"eSendImage",
        "ImageName": "Nevera.jpg",
        "Description": "Brrrr... No creo que quede nada por pillar aquí. Debería largarme de aquí cuanto antes o pillaré una pulmonía.",
        "TriggerCondition": "GuantesFound"
      }
    ],
    "OnInspectEvent": [
      {
        "EventType": "eSendText",
        "Description": "¡Yoink!... Joder están congelados...",
        "TriggerCondition": "!GuantesFound"
      },
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"guantes_del_heroe"
          }
        ],
        "TriggerCondition": "!GuantesFound"
      },
      {
        "EventType": "eSendText",
        "Description": "A no ser que quiera llevarme unos hielos no hay nada más por aquí... Hay una trampilla que parece que me devuelve al pasillo central.",
        "TriggerCondition": "GuantesFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "GuantesFound",
        "SetAs": "True",
        "TriggerCondition":"!GuantesFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral4",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral5"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description":"Otra con agujeros. Me pregunto que habrá dentro de ellos...",
        "TriggerCondition":"!PasilloCentral4Visited"
      },
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description":"He vuelto a esta sala. Podría entrenarme aquí peleando contra las ratas...",
        "TriggerCondition": "PasilloCentral4Visited and MediumCheese"
      },
      {
        "EventType":"eSendImage",
        "ImageName":"Pasillo2.png",
        "Description": "He vuelto a esta sala. Me pregunto que habrá dentro de los agujeros...",
        "TriggerCondition":"PasilloCentral4Visited and !MediumCheese"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType": "eSendText",
        "Description": "¡De uno de los agujeros que adornan la sala aparece una rata y se abalanza sobre ti!"
      },
      {
        "EventType":"eStartBattle",
        "Enemy":"MediumCheese"
      }
    ]
  },
  {
    "Name": "PasilloCentral5",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "SalaJefe"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral4"
      }
    },
    "OnArriveEvent": [
      {
        "EventType": "eSendImage",
        "ImageName": "Pasillo5.jpg",
        "Description": "Al abrir la puerta hacia la siguiente sala encuentras un... ¿jardín? Está muy bien cuidado, temes que en cualquier momento el jardinero te pegue un palazo o algo...",
        "TriggerCondition": "!PasilloCentral5Visited"
      },
      {
        "EventType": "eSendImage",
        "ImageName": "Pasillo5.jpg",
        "Description": "Has vuelto al jardín, cuando termines todo esto igual deberías darte un paseo, que lo necesitas.",
        "TriggerCondition": "PasilloCentral5Visited"
      },
      {
        "EventType": "eSendImage",
        "ImageName": "Pasillo5-Espada.jpg",
        "Description": "En el centro del jardín encuentras una espada clavada en una piedra... Encuentras la situación un poco cliché.",
        "TriggerCondition": "!EspadaSacada"
      }
    ],
    "OnInspectEvent": [
      {
        "EventType": "eSendText",
        "Description": "Al acercar tus manos a la espada, tus calcetines, gorro y guantes comienzan a brillar intensamente. Con fuerza rejuvenecida, extraes la espada de la piedra.",
        "TriggerCondition": "!EspadaSacada and GuantesEq and GorroEq and CalcetinesEq"
      },
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"espada_del_heroe"
          }
        ],
        "TriggerCondition":"!EspadaSacada and GuantesEq and GorroEq and CalcetinesEq"
      },
      {
        "EventType": "eLearnAttack",
        "Attack": "EspadazoDelHeroe",
        "TriggerCondition": "!EspadaSacada and GuantesEq and GorroEq and CalcetinesEq"
      },
      {
        "EventType": "eSendText",
        "Description": "Gracias a la espada nunca te has sentido con tanta energía.",
        "TriggerCondition": "EspadaSacada"
      },
      {
        "EventType":"eSetFlag",
        "Name": "EspadaSacada",
        "SetAs": "True",
        "TriggerCondition":"GuantesEq and GorroEq and CalcetinesEq"
      },
      {
        "EventType": "eSendText",
        "Description": "Intentas extraer la espada de la piedra, pero se mantiene inamovible. Seguro que hay algo por el castillo que me pueda ayudar.",
        "TriggerCondition": "!EspadaSacada"
      },
    ]
  },
  {
    "Name": "SalaJefe",
    "NodeConnections":{
      "sur" : {
        "ConnectingNode" : "PasilloCentral5"
      }
    },
    "OnArriveEvent":[
      {
        "EventType": "eStartBattle",
        "Enemy": "MaloMaloso"
      }
    ]
  }
]