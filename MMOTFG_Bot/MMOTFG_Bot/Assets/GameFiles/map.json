[
  {
    "Name": "Entrada",
    "NodeConnections": {
      "norte": {
        "ConnectingNode": "PasilloCentral1"
      }
    },
    "OnInspectEvent":[
      {
        "EventType":"eSendImage",
        "ImageName": "EvilCastleEntrance.jpg",
        "Description": "Ante ti se rige castillo del Malo Maloso. ¿Qué ha hecho? No tienes ni idea, pero con ese nombre seguro que nada bueno.",
        "TriggerCondition" : "!EntradaInspect1"
      },
      {
        "EventType":"eSendAudio",
        "AudioName": "Thunder.mp3",
        "Description": "¡Una aventura te espera. Tortas, golpetazos... Bienvenido a... Mazmorra Mamporrazo!",
        "TriggerCondition": "!EntradaInspect1"
      },
      {
        "EventType":"eSendText",
        "Description":"Buscas debajo de la alfombra de la puerta y encuentras una poción.",
        "TriggerCondition":"!EntradaInspect2 and EntradaInspect1"
      },
      {
        "EventType":"eGiveItem",
        "ItemLots":[
          {
            "Item":"pocion_vida"
          }
        ],
        "TriggerCondition":"!EntradaInspect2 and EntradaInspect1"
      },
      {
        "EventType":"eSetFlag",
        "Name":"EntradaInspect2",
        "SetAs":"True",
        "TriggerCondition":"EntradaInspect1 and !EntradaInspect2"
      },
      {
        "EventType":"eSetFlag",
        "Name":"EntradaInspect1",
        "SetAs":"True",
        "TriggerCondition":"!EntradaInspect1"
      }
    ]
  },
  {
    "Name": "PasilloCentral1",
    "NodeConnections":{
      "sur" : {
        "ConnectingNode" : "Entrada"
      },
      "puerta" : {
        "ConnectingNode" : "SalaTesoro1"
      },
      "norte" : {
        "ConnectingNode" : "PasilloCentral2"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendText",
        "Description":"Con pies de plomo entras en la mazmorra. Notas todo bastante limpio y ordenado. Unos altavoces emiten una musiquita muy pegadiza. Distraido por el ambiente, resbalas una región húmeda del suelo y te caes de culo. Al reincorporarte, ÉL aparece.",
        "TriggerCondition":"!ManoloDefeated"
      },
      {
        "EventType":"eStartBattle",
        "Enemy":"ConserjeManolo",
        "TriggerCondition":"!ManoloDefeated"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType":"eSendAudio",
        "AudioName":"Mamporrazo.mp3",
        "Description":"Prestas atención a la música... ¡El malo maloso tiene muy buen gusto musical! Seguro que motivaba un montón a Manolo."
      }
    ]
  },
  {
    "Name":"SalaTesoro1",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "PasilloCentral1"
      }
    },
    "OnArriveEvent":[
      {
        "EventType": "eSendText",
        "Description":"Al abrir la puerta observas la habitación en la que te encuentras. Hay un monton de cajas y barriles repartidos por la habitación. Igual hay algo interesante por aquí.",
        "TriggerCondition": "!SalaTesoro1Visited"
      },
      {
        "EventType":"eSendText",
        "Description":"Has vuelto a la sala donde encontraste el gorro. La percha de donde lo agarrse debe echarle de menos...",
        "TriggerCondition":"!GorroFound"
      }
    ],
    "OnInspectEvent": [
      {
        "EventType": "eSendText",
        "Description":"Entre los objetos de la sala, un gorro colgado en la pared capta tu atención.",
        "TriggerCondition":"!GorroFound"
      },
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"gorro_del_heroe"
          }
        ],
        "TriggerCondition": "!GorroFound"
      },
      {
        "EventType":"eSendText",
        "Description":"No hay nada más que llame tu atención",
        "TriggerCondition":"GorroFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "GorroFound",
        "SetAs": "True",
        "TriggerCondition":"!GorroFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral2",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral3"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral1"
      }
    },
    "OnArriveEvent":[
      {
        "EventType":"eSendText",
        "Description":"Vaya... Esta sala no está tan bien cuidada. Múltiples agujeros aparentemente dispuestos de una manera aleatoria perforan las paredes... La sala parece un Gruyer.",
        "TriggerCondition":"!PasilloCentral2Visited"
      }
    ],
    "OnInspectEvent":[
      {
        "EventType": "eSendText",
        "Description": "¡De uno de los agujeros que adornan la sala aparece una rata y se abalanza sobre ti!"
      },
      {
        "EventType":"eStartBattle",
        "Enemy":"SmallCheese"
      }
    ],
    "OnExitEvent":[
      {
        "EventType":"eSendText",
        "Description":"Al intentar abandonar la sala aparece una figura sombría de la siguiente sala. Una rata enorme adornada por ornamentos dorados fija su mirada en tí. Una cohorte de ratas más pequeñas le acompañan. Ay mecachis.",
        "TriggerCondition":"!BigCheeseDefeated"
      },
      {
        "EventType":"eStartBattle",
        "Enemies":["BigCheese", "SmallCheese", "SmallCheese"],
        "TriggerCondition": "!BigCheeseDefeated"
      }
    ]
  },
  {
    "Name": "PasilloCentral3",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral4"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral2"
      },
      "este":{
        "ConnectingNode" : "PasilloCentral3-E"
      },
      "oeste":{
        "ConnectingNode" : "PasilloCentral3-W"
      }
    }
  },
  {
    "Name": "PasilloCentral3-W",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "SalaTesoro2"
      },
      "este" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    }
  },
  {
    "Name": "SalaTesoro2",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "PasilloCentral3-W"
      }
    },
    "OnInspectEvent": [
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"calcetines_del_heroe"
          }
        ],
        "TriggerCondition": "!CalcetinesFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "CalcetinesFound",
        "SetAs": "True",
        "TriggerCondition":"!CalcetinesFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral3-E",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "SalaTesoro3"
      },
      "oeste" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    }
  },
  {
    "Name": "SalaTesoro3",
    "NodeConnections":{
      "trampilla" : {
        "ConnectingNode" : "PasilloCentral4"
      },
      "sur" : {
        "ConnectingNode": "PasilloCentral3-E"
      }
    },
    "OnInspectEvent": [
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"guantes_del_heroe"
          }
        ],
        "TriggerCondition": "!GuantesFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "GuantesFound",
        "SetAs": "True",
        "TriggerCondition":"!GuantesFound"
      }
    ]
  },
  {
    "Name": "PasilloCentral4",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral5"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral3"
      }
    }
  },
  {
    "Name": "PasilloCentral5",
    "NodeConnections":{
      "norte" : {
        "ConnectingNode" : "PasilloCentral6"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral4"
      }
    }
  },
  {
    "Name": "PasilloCentral6",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "SalaJefe"
      },
      "sur" : {
        "ConnectingNode" : "PasilloCentral5"
      }
    },
    "OnInspectEvent": [
      {
        "EventType": "eGiveItem",
        "ItemLots":[
          {
            "Item":"espada_del_heroe"
          }
        ],
        "TriggerCondition": "!EspadaFound"
      },
      {
        "EventType":"eSetFlag",
        "Name": "EspadaFound",
        "SetAs": "True",
        "TriggerCondition":"!EspadaFound"
      }
    ]
  },
  {
    "Name": "SalaJefe",
    "NodeConnections":{
      "puerta" : {
        "ConnectingNode" : "PasilloCentral6"
      }
    }
  }
]